<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
  <class name="objectClasses.Person" table="people">
    <id column="person_id" name="id">
      <generator class="assigned"/>
    </id>
    <property name="Name"/>
    <property name="password"/>
    <property column="gender" name="gender"/>
    <property column="DOB" name="DOB" type="calendar_date"/>
    <property column="email" name="email"/>
    <property column="mobile" name="mobile"/>
    <property name="father_name"/>
    <property name="mother_name"/>
    <property name="bloodgroup"/>
    <property name="p_address"/>
    <property name="r_address"/>
    <property column="type" name="type"/>
    <joined-subclass name="objectClasses.Admin" table="administration">
      <key column="admin_id"/>
      <property column="qualifications" name="qualifications"/>
      <property name="designation"/>
      <property column="join_date" name="join_date" type="calendar_date"/>
    </joined-subclass>
    <joined-subclass name="objectClasses.Student" table="students">
      <key column="student_id"/>
      <property name="category"/>
      <property name="batch"/>
      <property name="semester"/>
      <property name="branch"/>
    </joined-subclass>
    <joined-subclass name="objectClasses.Faculty" table="faculties">
      <key column="faculty_id"/>
      <property name="department"/>
      <property name="designation"/>
      <property name="qualification"/>
      <property name="join_date" type="calendar_date"/>
    </joined-subclass>
	
  </class>
  <class name="objectClasses.Group" table="groups">
    <id name="group_id">
      <generator class="increment"/>
    </id>
    <property name="Title" not-null="false"/>
    <property name="owner" not-null="true"/>
	
    <set cascade="save-update" inverse="true" lazy="true" name="people" table="people_group" fetch="select">
	  <key column="group_id"/>
	  <many-to-many class="objectClasses.Person" column="Name" />
      <many-to-many class="objectClasses.Person"  column="person_id"/>
    </set>
	
  </class>
  <class name="objectClasses.Department" table="departments">
    <id name="departmentCode">
      <generator class="assigned"/>
    </id>
    <property name="title" unique="true"/>
  </class>
</hibernate-mapping>
